import{r as l,c as Te,j as f,B as P,s as ge,f as we,u as Ve,a as Le,M as je,p as _e,b as De,aa as Re,ab as Ae,Q as Pe,t as Fe,T as se}from"./index-BGfl1ZBN.js";import{S as Ne}from"./Stack-D4yNPS5W.js";import{u as Ee}from"./use-uncontrolled-CAiS-Dhx.js";function H(t,e,s){return e===void 0&&s===void 0?t:e!==void 0&&s===void 0?Math.max(t,e):Math.min(e===void 0&&s!==void 0?t:Math.max(t,e),s)}function ze(t,e,s="ltr"){const a=l.useRef(null),u=l.useRef(!1),n=l.useRef(!1),h=l.useRef(0),[r,v]=l.useState(!1);return l.useEffect(()=>{u.current=!0},[]),l.useEffect(()=>{var p,T;const c=({x:i,y:D})=>{cancelAnimationFrame(h.current),h.current=requestAnimationFrame(()=>{if(u.current&&a.current){a.current.style.userSelect="none";const m=a.current.getBoundingClientRect();if(m.width&&m.height){const F=H((i-m.left)/m.width,0,1);t({x:s==="ltr"?F:1-F,y:H((D-m.top)/m.height,0,1)})}}})},d=()=>{document.addEventListener("mousemove",o),document.addEventListener("mouseup",M),document.addEventListener("touchmove",L),document.addEventListener("touchend",M)},b=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",M),document.removeEventListener("touchmove",L),document.removeEventListener("touchend",M)},j=()=>{!n.current&&u.current&&(n.current=!0,typeof(e==null?void 0:e.onScrubStart)=="function"&&e.onScrubStart(),v(!0),d())},M=()=>{n.current&&u.current&&(n.current=!1,v(!1),b(),setTimeout(()=>{typeof(e==null?void 0:e.onScrubEnd)=="function"&&e.onScrubEnd()},0))},k=i=>{j(),i.preventDefault(),o(i)},o=i=>c({x:i.clientX,y:i.clientY}),V=i=>{i.cancelable&&i.preventDefault(),j(),L(i)},L=i=>{i.cancelable&&i.preventDefault(),c({x:i.changedTouches[0].clientX,y:i.changedTouches[0].clientY})};return(p=a.current)==null||p.addEventListener("mousedown",k),(T=a.current)==null||T.addEventListener("touchstart",V,{passive:!1}),()=>{a.current&&(a.current.removeEventListener("mousedown",k),a.current.removeEventListener("touchstart",V))}},[s,t]),{ref:a,active:r}}function ae(t,e){return e.length===0?t:e.reduce((s,a)=>Math.abs(a-t)<Math.abs(s-t)?a:s)}const[Ue,K]=Te("SliderProvider was not found in tree"),ue=l.forwardRef(({size:t,disabled:e,variant:s,color:a,thumbSize:u,radius:n,...h},r)=>{const{getStyles:v}=K();return f.jsx(P,{tabIndex:-1,variant:s,size:t,ref:r,...v("root"),...h})});ue.displayName="@mantine/core/SliderRoot";const ce=l.forwardRef(({max:t,min:e,value:s,position:a,label:u,dragging:n,onMouseDown:h,onKeyDownCapture:r,labelTransitionProps:v,labelAlwaysOn:c,thumbLabel:d,onFocus:b,onBlur:j,showLabelOnHover:M,isHovered:k,children:o=null,disabled:V},L)=>{const{getStyles:p}=K(),[T,i]=l.useState(!1),D=c||n||T||M&&k;return f.jsxs(P,{tabIndex:0,role:"slider","aria-label":d,"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":s,ref:L,__vars:{"--slider-thumb-offset":`${a}%`},...p("thumb",{focusable:!0}),mod:{dragging:n,disabled:V},onFocus:()=>{i(!0),typeof b=="function"&&b()},onBlur:()=>{i(!1),typeof j=="function"&&j()},onTouchStart:h,onMouseDown:h,onKeyDownCapture:r,onClick:m=>m.stopPropagation(),children:[o,f.jsx(ge,{mounted:u!=null&&!!D,transition:"fade",duration:0,...v,children:m=>f.jsx("div",{...p("label",{style:m}),children:u})})]})});ce.displayName="@mantine/core/SliderThumb";function ie({value:t,min:e,max:s}){const a=(t-e)/(s-e)*100;return Math.min(Math.max(a,0),100)}function He({mark:t,offset:e,value:s,inverted:a=!1}){return a?typeof e=="number"&&t.value<=e||t.value>=s:typeof e=="number"?t.value>=e&&t.value<=s:t.value<=s}function le({marks:t,min:e,max:s,disabled:a,value:u,offset:n,inverted:h}){const{getStyles:r}=K();if(!t)return null;const v=t.map((c,d)=>l.createElement(P,{...r("markWrapper"),__vars:{"--mark-offset":`${ie({value:c.value,min:e,max:s})}%`},key:d},f.jsx(P,{...r("mark"),mod:{filled:He({mark:c,value:u,offset:n,inverted:h}),disabled:a}}),c.label&&f.jsx("div",{...r("markLabel"),children:c.label})));return f.jsx("div",{children:v})}le.displayName="@mantine/core/SliderMarks";function fe({filled:t,children:e,offset:s,disabled:a,marksOffset:u,inverted:n,containerProps:h,...r}){const{getStyles:v}=K();return f.jsx(P,{...v("trackContainer"),mod:{disabled:a},...h,children:f.jsxs(P,{...v("track"),mod:{inverted:n,disabled:a},children:[f.jsx(P,{mod:{inverted:n,disabled:a},__vars:{"--slider-bar-width":`calc(${t}% + var(--slider-size))`,"--slider-bar-offset":`calc(${s}% - var(--slider-size))`},...v("bar")}),e,f.jsx(le,{...r,offset:u,disabled:a,inverted:n})]})})}fe.displayName="@mantine/core/SliderTrack";function Be({value:t,containerWidth:e,min:s,max:a,step:u,precision:n}){const r=(e?Math.min(Math.max(t,0),e)/e:t)*(a-s),v=(r!==0?Math.round(r/u)*u:0)+s,c=Math.max(v,s);return n!==void 0?Number(c.toFixed(n)):c}function $(t,e){return parseFloat(t.toFixed(e))}function Oe(t){if(!t)return 0;const e=t.toString().split(".");return e.length>1?e[1].length:0}function q(t,e){const a=[...e].sort((u,n)=>u.value-n.value).find(u=>u.value>t);return a?a.value:t}function Q(t,e){const a=[...e].sort((u,n)=>n.value-u.value).find(u=>u.value<t);return a?a.value:t}function ne(t){const e=[...t].sort((s,a)=>a.value-s.value);return e.length>0?e[0].value:0}function oe(t){const e=[...t].sort((s,a)=>s.value-a.value);return e.length>0?e[e.length-1].value:100}var de={root:"m_dd36362e",label:"m_c9357328",thumb:"m_c9a9a60a",trackContainer:"m_a8645c2",track:"m_c9ade57f",bar:"m_38aeed47",markWrapper:"m_b7b0423a",mark:"m_dd33bc19",markLabel:"m_68c77a5b"};const Ie={radius:"xl",min:0,max:100,step:1,marks:[],label:t=>t,labelTransitionProps:{transition:"fade",duration:0},labelAlwaysOn:!1,thumbLabel:"",showLabelOnHover:!0,disabled:!1,scale:t=>t},$e=De((t,{size:e,color:s,thumbSize:a,radius:u})=>({root:{"--slider-size":Re(e,"slider-size"),"--slider-color":s?Ae(s,t):void 0,"--slider-radius":u===void 0?void 0:Pe(u),"--slider-thumb-size":a!==void 0?Fe(a):"calc(var(--slider-size) * 2)"}})),W=we((t,e)=>{const s=Ve("Slider",Ie,t),{classNames:a,styles:u,value:n,onChange:h,onChangeEnd:r,size:v,min:c,max:d,step:b,precision:j,defaultValue:M,name:k,marks:o,label:V,labelTransitionProps:L,labelAlwaysOn:p,thumbLabel:T,showLabelOnHover:i,thumbChildren:D,disabled:m,unstyled:F,scale:X,inverted:R,className:N,style:B,vars:me,hiddenInputProps:ve,restrictToMarks:_,...pe}=s,be=Le({name:"Slider",props:s,classes:de,classNames:a,className:N,styles:u,style:B,vars:me,varsResolver:$e,unstyled:F}),{dir:U}=je(),[he,G]=l.useState(!1),[x,S]=Ee({value:typeof n=="number"?H(n,c,d):n,defaultValue:typeof M=="number"?H(M,c,d):M,finalValue:H(0,c,d),onChange:h}),Y=l.useRef(x),J=l.useRef(),A=l.useRef(),Z=ie({value:x,min:c,max:d}),O=X(x),xe=typeof V=="function"?V(O):V,E=j??Oe(b),Me=l.useCallback(({x:y})=>{if(!m){const z=Be({value:y,min:c,max:d,step:b,precision:E});S(_&&(o!=null&&o.length)?ae(z,o.map(I=>I.value)):z),Y.current=z}},[m,c,d,b,E,S,o,_]),{ref:Se,active:ye}=ze(Me,{onScrubEnd:()=>r==null?void 0:r(_&&(o!=null&&o.length)?ae(Y.current,o.map(y=>y.value)):Y.current)},U),ke=y=>{var z,I,C,ee,te,re;if(!m)switch(y.key){case"ArrowUp":{if(y.preventDefault(),(z=A.current)==null||z.focus(),_&&o){const w=q(x,o);S(w),r==null||r(w);break}const g=$(Math.min(Math.max(x+b,c),d),E);S(g),r==null||r(g);break}case"ArrowRight":{if(y.preventDefault(),(I=A.current)==null||I.focus(),_&&o){const w=U==="rtl"?Q(x,o):q(x,o);S(w),r==null||r(w);break}const g=$(Math.min(Math.max(U==="rtl"?x-b:x+b,c),d),E);S(g),r==null||r(g);break}case"ArrowDown":{if(y.preventDefault(),(C=A.current)==null||C.focus(),_&&o){const w=Q(x,o);S(w),r==null||r(w);break}const g=$(Math.min(Math.max(x-b,c),d),E);S(g),r==null||r(g);break}case"ArrowLeft":{if(y.preventDefault(),(ee=A.current)==null||ee.focus(),_&&o){const w=U==="rtl"?q(x,o):Q(x,o);S(w),r==null||r(w);break}const g=$(Math.min(Math.max(U==="rtl"?x+b:x-b,c),d),E);S(g),r==null||r(g);break}case"Home":{if(y.preventDefault(),(te=A.current)==null||te.focus(),_&&o){S(ne(o)),r==null||r(ne(o));break}S(c),r==null||r(c);break}case"End":{if(y.preventDefault(),(re=A.current)==null||re.focus(),_&&o){S(oe(o)),r==null||r(oe(o));break}S(d),r==null||r(d);break}}};return f.jsx(Ue,{value:{getStyles:be},children:f.jsxs(ue,{...pe,ref:_e(e,J),onKeyDownCapture:ke,onMouseDownCapture:()=>{var y;return(y=J.current)==null?void 0:y.focus()},size:v,disabled:m,children:[f.jsx(fe,{inverted:R,offset:0,filled:Z,marks:o,min:c,max:d,value:O,disabled:m,containerProps:{ref:Se,onMouseEnter:i?()=>G(!0):void 0,onMouseLeave:i?()=>G(!1):void 0},children:f.jsx(ce,{max:d,min:c,value:O,position:Z,dragging:ye,label:xe,ref:A,labelTransitionProps:L,labelAlwaysOn:p,thumbLabel:T,showLabelOnHover:i,isHovered:he,disabled:m,children:D})}),f.jsx("input",{type:"hidden",name:k,value:O,...ve})]})})});W.classes=de;W.displayName="@mantine/core/Slider";const Ke=({audioSrc:t,beatDropOn:e,beatDropPosition:s,maxDelay:a=1})=>{var L;const n=l.useRef(null),[h,r]=l.useState("--:--:--"),[v,c]=l.useState(new Date>e),[d,b]=l.useState(.5),[j,M]=l.useState(null);l.useEffect(()=>{n.current=new Audio(t),n.current.volume=.5,b(n.current.volume)},[t]);const k=l.useMemo(()=>e.getTime()-s*1e3-1e3,[e,s]),o=()=>{const p=new Date;let T=p.getTime()>e.getTime();c(T);let i=Math.round(Math.abs(p.getTime()-e.getTime())/1e3);const D=Math.floor(i/(60*60)),m=Math.floor(i/60)%60,F=i%60;if(r([D.toString().padStart(2,"0"),m.toString().padStart(2,"0"),F.toString().padStart(2,"0")].filter(R=>R).join(":")),!n.current)return;n.current.paused||M(null);const X=k+(n.current.duration+2)*1e3;if(n.current.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA&&k<p.getTime()&&X>p.getTime()){let R=(p.getTime()-k)/1e3;try{n.current.paused&&(n.current.play().catch(B=>{console.log("play() error",B),M(B)}),n.current.currentTime=R);let{currentTime:N}=n.current;Math.abs(N-R)>=a&&(n.current.currentTime=R)}catch(N){console.log("setter currentTime error",N),M(N)}}};l.useEffect(()=>{o();let p=setInterval(o,300);return()=>{var T;(T=n.current)==null||T.pause(),clearInterval(p)}},[]);const V=n.current&&!((L=n.current)!=null&&L.paused);return{startPlaybackOn:k,isPlaying:V,beatDidDrop:v,timer:h,volume:d,setVolume:p=>{n.current&&(n.current.volume=p),b(p)},err:j}};function Qe(){const{timer:t,volume:e,setVolume:s}=Ke({audioSrc:"/musics/strobe.mp3",beatDropOn:new Date(2025,0,27,22,57,0),beatDropPosition:407.4});return f.jsx(Ne,{w:"100%",h:"100%",align:"center",children:new Date<new Date(2025,3,11)?f.jsxs(se,{fz:"h3",ta:"center",children:["Nothing is here ",f.jsx("br",{}),"Check back later"]}):f.jsxs(f.Fragment,{children:[f.jsx(se,{fz:"h2",bd:"3px solid white",bg:"black",w:"100%",py:"md",ta:"center",children:t}),f.jsx(W,{min:0,max:1,step:.05,w:200,onChange:s,value:e})]})})}export{Qe as default};

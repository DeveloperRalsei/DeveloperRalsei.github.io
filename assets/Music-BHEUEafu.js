import{r as y,z as Ee,f as v,u as w,e as q,j as n,B as N,$ as Ce,a9 as Re,v as X,E as _e,J as Oe,aa as Ae,ab as Fe,ac as Pe,ad as D,ae as ke,y as S,R as T,af as $e,W as Q,P as Le,ag as He,X as ze,h as Ge,O as qe,d as Ve,p as Ze,ah as Y,ai as C,aj as Ke,ak as ee,al as U,am as Ue,an as te,I as We,S as se,t as Je,b as Xe,m as Qe,ao as L,G as Ye}from"./index-BJDav1_Y.js";import{c as et,T as tt}from"./TextInput-CuOTaNPF.js";import{B as W}from"./Button-CBZwh7S6.js";import{D as st}from"./Divider-CJCQQcaX.js";import{g as I,G as H}from"./Grid-DooKgnic.js";import{C as rt}from"./Card-D_cRw31e.js";function nt({opened:e,shouldReturnFocus:s=!0}){const t=y.useRef(),o=()=>{var r;t.current&&"focus"in t.current&&typeof t.current.focus=="function"&&((r=t.current)==null||r.focus({preventScroll:!0}))};return Ee(()=>{let r=-1;const a=d=>{d.key==="Tab"&&window.clearTimeout(r)};return document.addEventListener("keydown",a),e?t.current=document.activeElement:s&&(r=window.setTimeout(o,10)),()=>{window.clearTimeout(r),document.removeEventListener("keydown",a)}},[e,s]),o}const ot=/input|select|textarea|button|object/,re="a, input, select, textarea, button, object, [tabindex]";function at(e){return e.style.display==="none"}function lt(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let t=e;for(;t&&!(t===document.body||t.nodeType===11);){if(at(t))return!1;t=t.parentNode}return!0}function ne(e){let s=e.getAttribute("tabindex");return s===null&&(s=void 0),parseInt(s,10)}function G(e){const s=e.nodeName.toLowerCase(),t=!Number.isNaN(ne(e));return(ot.test(s)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||t)&&lt(e)}function oe(e){const s=ne(e);return(Number.isNaN(s)||s>=0)&&G(e)}function it(e){return Array.from(e.querySelectorAll(re)).filter(oe)}function ct(e,s){const t=it(e);if(!t.length){s.preventDefault();return}const o=t[s.shiftKey?0:t.length-1],r=e.getRootNode();let a=o===r.activeElement||e===r.activeElement;const d=r.activeElement;if(d.tagName==="INPUT"&&d.getAttribute("type")==="radio"&&(a=t.filter(f=>f.getAttribute("type")==="radio"&&f.getAttribute("name")===d.getAttribute("name")).includes(o)),!a)return;s.preventDefault();const i=t[s.shiftKey?t.length-1:0];i&&i.focus()}function dt(e=!0){const s=y.useRef(),t=r=>{let a=r.querySelector("[data-autofocus]");if(!a){const d=Array.from(r.querySelectorAll(re));a=d.find(oe)||d.find(G)||null,!a&&G(r)&&(a=r)}a&&a.focus({preventScroll:!0})},o=y.useCallback(r=>{e&&r!==null&&s.current!==r&&(r?(setTimeout(()=>{r.getRootNode()&&t(r)}),s.current=r):s.current=null)},[e]);return y.useEffect(()=>{if(!e)return;s.current&&setTimeout(()=>t(s.current));const r=a=>{a.key==="Tab"&&s.current&&ct(s.current,a)};return document.addEventListener("keydown",r),()=>document.removeEventListener("keydown",r)},[e]),o}var ae={root:"m_515a97f8"};const ut={},V=v((e,s)=>{const t=w("VisuallyHidden",ut,e),{classNames:o,className:r,style:a,styles:d,unstyled:c,vars:i,...l}=t,f=q({name:"VisuallyHidden",classes:ae,props:t,className:r,style:a,classNames:o,styles:d,unstyled:c});return n.jsx(N,{component:"span",ref:s,...f("root"),...l})});V.classes=ae;V.displayName="@mantine/core/VisuallyHidden";function Z({children:e,active:s=!0,refProp:t="ref",innerRef:o}){const r=dt(s),a=Ce(r,o);return Re(e)?y.cloneElement(e,{[t]:a}):e}function le(e){return n.jsx(V,{tabIndex:-1,"data-autofocus":!0,...e})}Z.displayName="@mantine/core/FocusTrap";le.displayName="@mantine/core/FocusTrapInitialFocus";Z.InitialFocus=le;const[ft,b]=X("ModalBase component was not found in tree");function mt({opened:e,transitionDuration:s}){const[t,o]=y.useState(e),r=y.useRef(),d=_e()?0:s;return y.useEffect(()=>(e?(o(!0),window.clearTimeout(r.current)):d===0?o(!1):r.current=window.setTimeout(()=>o(!1),d),()=>window.clearTimeout(r.current)),[e,d]),t}function yt({id:e,transitionProps:s,opened:t,trapFocus:o,closeOnEscape:r,onClose:a,returnFocus:d}){const c=Oe(e),[i,l]=y.useState(!1),[f,m]=y.useState(!1),u=typeof(s==null?void 0:s.duration)=="number"?s==null?void 0:s.duration:200,x=mt({opened:t,transitionDuration:u});return Ae("keydown",h=>{var p;h.key==="Escape"&&r&&t&&((p=h.target)==null?void 0:p.getAttribute("data-mantine-stop-propagation"))!=="true"&&a()},{capture:!0}),nt({opened:t,shouldReturnFocus:o&&d}),{_id:c,titleMounted:i,bodyMounted:f,shouldLockScroll:x,setTitleMounted:l,setBodyMounted:m}}const ie=y.forwardRef(({keepMounted:e,opened:s,onClose:t,id:o,transitionProps:r,onExitTransitionEnd:a,onEnterTransitionEnd:d,trapFocus:c,closeOnEscape:i,returnFocus:l,closeOnClickOutside:f,withinPortal:m,portalProps:u,lockScroll:x,children:h,zIndex:p,shadow:E,padding:he,__vars:ge,unstyled:ve,removeScrollProps:we,...Se},be)=>{const{_id:K,titleMounted:je,bodyMounted:Ne,shouldLockScroll:Ie,setTitleMounted:Te,setBodyMounted:Me}=yt({id:o,transitionProps:r,opened:s,trapFocus:c,closeOnEscape:i,onClose:t,returnFocus:l}),{key:Be,...De}=we||{};return n.jsx(Fe,{...u,withinPortal:m,children:n.jsx(ft,{value:{opened:s,onClose:t,closeOnClickOutside:f,onExitTransitionEnd:a,onEnterTransitionEnd:d,transitionProps:{...r,keepMounted:e},getTitleId:()=>`${K}-title`,getBodyId:()=>`${K}-body`,titleMounted:je,bodyMounted:Ne,setTitleMounted:Te,setBodyMounted:Me,trapFocus:c,closeOnEscape:i,zIndex:p,unstyled:ve},children:n.jsx(Pe,{enabled:Ie&&x,...De,children:n.jsx(N,{ref:be,...Se,__vars:{...ge,"--mb-z-index":(p||D("modal")).toString(),"--mb-shadow":ke(E),"--mb-padding":S(he)},children:h})},Be)})})});ie.displayName="@mantine/core/ModalBase";function pt(){const e=b();return y.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var M={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const ce=y.forwardRef(({className:e,...s},t)=>{const o=pt(),r=b();return n.jsx(N,{ref:t,...s,id:o,className:T({[M.body]:!r.unstyled},e)})});ce.displayName="@mantine/core/ModalBaseBody";const de=y.forwardRef(({className:e,onClick:s,...t},o)=>{const r=b();return n.jsx($e,{ref:o,...t,onClick:a=>{r.onClose(),s==null||s(a)},className:T({[M.close]:!r.unstyled},e),unstyled:r.unstyled})});de.displayName="@mantine/core/ModalBaseCloseButton";const ue=y.forwardRef(({transitionProps:e,className:s,innerProps:t,onKeyDown:o,style:r,...a},d)=>{const c=b();return n.jsx(Q,{mounted:c.opened,transition:"pop",...c.transitionProps,onExited:()=>{var i,l,f;(i=c.onExitTransitionEnd)==null||i.call(c),(f=(l=c.transitionProps)==null?void 0:l.onExited)==null||f.call(l)},onEntered:()=>{var i,l,f;(i=c.onEnterTransitionEnd)==null||i.call(c),(f=(l=c.transitionProps)==null?void 0:l.onEntered)==null||f.call(l)},...e,children:i=>n.jsx("div",{...t,className:T({[M.inner]:!c.unstyled},t.className),children:n.jsx(Z,{active:c.opened&&c.trapFocus,innerRef:d,children:n.jsx(Le,{...a,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":c.bodyMounted?c.getBodyId():void 0,"aria-labelledby":c.titleMounted?c.getTitleId():void 0,style:[r,i],className:T({[M.content]:!c.unstyled},s),unstyled:c.unstyled,children:a.children})})})})});ue.displayName="@mantine/core/ModalBaseContent";const fe=y.forwardRef(({className:e,...s},t)=>{const o=b();return n.jsx(N,{component:"header",ref:t,className:T({[M.header]:!o.unstyled},e),...s})});fe.displayName="@mantine/core/ModalBaseHeader";const xt={duration:200,timingFunction:"ease",transition:"fade"};function ht(e){const s=b();return{...xt,...s.transitionProps,...e}}const me=y.forwardRef(({onClick:e,transitionProps:s,style:t,visible:o,...r},a)=>{const d=b(),c=ht(s);return n.jsx(Q,{mounted:o!==void 0?o:d.opened,...c,transition:"fade",children:i=>n.jsx(He,{ref:a,fixed:!0,style:[t,i],zIndex:d.zIndex,unstyled:d.unstyled,onClick:l=>{e==null||e(l),d.closeOnClickOutside&&d.onClose()},...r})})});me.displayName="@mantine/core/ModalBaseOverlay";function gt(){const e=b();return y.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const ye=y.forwardRef(({className:e,...s},t)=>{const o=gt(),r=b();return n.jsx(N,{component:"h2",ref:t,className:T({[M.title]:!r.unstyled},e),...s,id:o})});ye.displayName="@mantine/core/ModalBaseTitle";function vt({children:e}){return n.jsx(n.Fragment,{children:e})}const[wt,B]=X("Drawer component was not found in tree");var j={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const St={},_=v((e,s)=>{const t=w("DrawerBody",St,e),{classNames:o,className:r,style:a,styles:d,vars:c,...i}=t,l=B();return n.jsx(ce,{ref:s,...l.getStyles("body",{classNames:o,style:a,styles:d,className:r}),...i})});_.classes=j;_.displayName="@mantine/core/DrawerBody";const bt={},O=v((e,s)=>{const t=w("DrawerCloseButton",bt,e),{classNames:o,className:r,style:a,styles:d,vars:c,...i}=t,l=B();return n.jsx(de,{ref:s,...l.getStyles("close",{classNames:o,style:a,styles:d,className:r}),...i})});O.classes=j;O.displayName="@mantine/core/DrawerCloseButton";const jt={},A=v((e,s)=>{const t=w("DrawerContent",jt,e),{classNames:o,className:r,style:a,styles:d,vars:c,children:i,radius:l,__hidden:f,...m}=t,u=B(),x=u.scrollAreaComponent||vt;return n.jsx(ue,{...u.getStyles("content",{className:r,style:a,styles:d,classNames:o}),innerProps:u.getStyles("inner",{className:r,style:a,styles:d,classNames:o}),ref:s,...m,radius:l||u.radius||0,"data-hidden":f||void 0,children:n.jsx(x,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:i})})});A.classes=j;A.displayName="@mantine/core/DrawerContent";const Nt={},F=v((e,s)=>{const t=w("DrawerHeader",Nt,e),{classNames:o,className:r,style:a,styles:d,vars:c,...i}=t,l=B();return n.jsx(fe,{ref:s,...l.getStyles("header",{classNames:o,style:a,styles:d,className:r}),...i})});F.classes=j;F.displayName="@mantine/core/DrawerHeader";const It={},P=v((e,s)=>{const t=w("DrawerOverlay",It,e),{classNames:o,className:r,style:a,styles:d,vars:c,...i}=t,l=B();return n.jsx(me,{ref:s,...l.getStyles("overlay",{classNames:o,style:a,styles:d,className:r}),...i})});P.classes=j;P.displayName="@mantine/core/DrawerOverlay";function Tt(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function Mt(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const Bt={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},Dt={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},Et={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:D("modal"),position:"left"},Ct=Ge((e,{position:s,size:t,offset:o})=>({root:{"--drawer-size":qe(t,"drawer-size"),"--drawer-flex":Mt(s),"--drawer-height":s==="left"||s==="right"?void 0:"var(--drawer-size)","--drawer-align":Tt(s),"--drawer-justify":s==="right"?"flex-end":void 0,"--drawer-offset":Ve(o)}})),k=v((e,s)=>{const t=w("DrawerRoot",Et,e),{classNames:o,className:r,style:a,styles:d,unstyled:c,vars:i,scrollAreaComponent:l,position:f,transitionProps:m,radius:u,...x}=t,{dir:h}=ze(),p=q({name:"Drawer",classes:j,props:t,className:r,style:a,classNames:o,styles:d,unstyled:c,vars:i,varsResolver:Ct}),E=(h==="rtl"?Dt:Bt)[f];return n.jsx(wt,{value:{scrollAreaComponent:l,getStyles:p,radius:u},children:n.jsx(ie,{ref:s,...p("root"),transitionProps:{transition:E,...m},unstyled:c,...x})})});k.classes=j;k.displayName="@mantine/core/DrawerRoot";const[Rt,_t]=et();function pe({children:e}){const[s,t]=y.useState([]),[o,r]=y.useState(D("modal"));return n.jsx(Rt,{value:{stack:s,addModal:(a,d)=>{t(c=>[...new Set([...c,a])]),r(c=>typeof d=="number"&&typeof c=="number"?Math.max(c,d):c)},removeModal:a=>t(d=>d.filter(c=>c!==a)),getZIndex:a=>`calc(${o} + ${s.indexOf(a)} + 1)`,currentId:s[s.length-1],maxZIndex:o},children:e})}pe.displayName="@mantine/core/DrawerStack";const Ot={},$=v((e,s)=>{const t=w("DrawerTitle",Ot,e),{classNames:o,className:r,style:a,styles:d,vars:c,...i}=t,l=B();return n.jsx(ye,{ref:s,...l.getStyles("title",{classNames:o,style:a,styles:d,className:r}),...i})});$.classes=j;$.displayName="@mantine/core/DrawerTitle";const At={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:D("modal"),withOverlay:!0,withCloseButton:!0},g=v((e,s)=>{const{title:t,withOverlay:o,overlayProps:r,withCloseButton:a,closeButtonProps:d,children:c,opened:i,stackId:l,zIndex:f,...m}=w("Drawer",At,e),u=_t(),x=!!t||a,h=u&&l?{closeOnEscape:u.currentId===l,trapFocus:u.currentId===l,zIndex:u.getZIndex(l)}:{},p=o===!1?!1:l&&u?u.currentId===l:i;return y.useEffect(()=>{u&&l&&(i?u.addModal(l,f||D("modal")):u.removeModal(l))},[i,l,f]),n.jsxs(k,{ref:s,opened:i,zIndex:u&&l?u.getZIndex(l):f,...m,...h,children:[o&&n.jsx(P,{visible:p,transitionProps:u&&l?{duration:0}:void 0,...r}),n.jsxs(A,{__hidden:u&&l&&i?l!==u.currentId:!1,children:[x&&n.jsxs(F,{children:[t&&n.jsx($,{children:t}),a&&n.jsx(O,{...d})]}),n.jsx(_,{children:c})]})]})});g.classes=j;g.displayName="@mantine/core/Drawer";g.Root=k;g.Overlay=P;g.Content=A;g.Body=_;g.Header=F;g.Title=$;g.CloseButton=O;g.Stack=pe;function Ft({spacing:e,verticalSpacing:s,cols:t,selector:o}){var f;const r=Ze(),a=s===void 0?e:s,d=Y({"--sg-spacing-x":S(I(e)),"--sg-spacing-y":S(I(a)),"--sg-cols":(f=I(t))==null?void 0:f.toString()}),c=C(r.breakpoints).reduce((m,u)=>(m[u]||(m[u]={}),typeof e=="object"&&e[u]!==void 0&&(m[u]["--sg-spacing-x"]=S(e[u])),typeof a=="object"&&a[u]!==void 0&&(m[u]["--sg-spacing-y"]=S(a[u])),typeof t=="object"&&t[u]!==void 0&&(m[u]["--sg-cols"]=t[u]),m),{}),l=Ke(C(c),r.breakpoints).filter(m=>C(c[m.value]).length>0).map(m=>({query:`(min-width: ${r.breakpoints[m.value]})`,styles:c[m.value]}));return n.jsx(ee,{styles:d,media:l,selector:o})}function z(e){return typeof e=="object"&&e!==null?C(e):[]}function Pt(e){return e.sort((s,t)=>U(s)-U(t))}function kt({spacing:e,verticalSpacing:s,cols:t}){const o=Array.from(new Set([...z(e),...z(s),...z(t)]));return Pt(o)}function $t({spacing:e,verticalSpacing:s,cols:t,selector:o}){var l;const r=s===void 0?e:s,a=Y({"--sg-spacing-x":S(I(e)),"--sg-spacing-y":S(I(r)),"--sg-cols":(l=I(t))==null?void 0:l.toString()}),d=kt({spacing:e,verticalSpacing:s,cols:t}),c=d.reduce((f,m)=>(f[m]||(f[m]={}),typeof e=="object"&&e[m]!==void 0&&(f[m]["--sg-spacing-x"]=S(e[m])),typeof r=="object"&&r[m]!==void 0&&(f[m]["--sg-spacing-y"]=S(r[m])),typeof t=="object"&&t[m]!==void 0&&(f[m]["--sg-cols"]=t[m]),f),{}),i=d.map(f=>({query:`simple-grid (min-width: ${f})`,styles:c[f]}));return n.jsx(ee,{styles:a,container:i,selector:o})}var xe={container:"m_925c2d2c",root:"m_2415a157"};const Lt={cols:1,spacing:"md",type:"media"},R=v((e,s)=>{const t=w("SimpleGrid",Lt,e),{classNames:o,className:r,style:a,styles:d,unstyled:c,vars:i,cols:l,verticalSpacing:f,spacing:m,type:u,...x}=t,h=q({name:"SimpleGrid",classes:xe,props:t,className:r,style:a,classNames:o,styles:d,unstyled:c,vars:i}),p=Ue();return u==="container"?n.jsxs(n.Fragment,{children:[n.jsx($t,{...t,selector:`.${p}`}),n.jsx("div",{...h("container"),children:n.jsx(N,{ref:s,...h("root",{className:p}),...x})})]}):n.jsxs(n.Fragment,{children:[n.jsx(Ft,{...t,selector:`.${p}`}),n.jsx(N,{ref:s,...h("root",{className:p}),...x})]})});R.classes=xe;R.displayName="@mantine/core/SimpleGrid";const J=({music:e,active:s,onClick:t})=>{const{setSong:o,play:r}=te();return t||(t=()=>{o(e.id),r()}),n.jsx(rt,{className:"hover",p:"xs",pos:"relative",style:{cursor:"pointer",boxShadow:s?"0 0 0px 2px var(--mantine-color-teal-filled)":void 0},onClick:t,children:n.jsxs(H,{children:[n.jsx(H.Col,{span:3,children:n.jsx(We,{src:e.coverPath,w:"100%",radius:"md",alt:`music-${e.title}`})}),n.jsx(H.Col,{span:9,children:n.jsxs(se,{gap:0,children:[n.jsx(Je,{order:4,c:"cyan",children:e.title}),n.jsxs(Xe,{c:"dimmed",children:["by ",e.artist]})]})})]})})};/**
 * @license @tabler/icons-react v3.11.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ht=Qe("outline","edit","IconEdit",[["path",{d:"M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1",key:"svg-0"}],["path",{d:"M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z",key:"svg-1"}],["path",{d:"M16 5l3 3",key:"svg-2"}]]);function Ut(){const[e,s]=y.useState(""),[t,o]=y.useState(!1),[r,a]=y.useState(null),{currentSongId:d}=te();let c=e?L.filter(i=>[i.title,i.artist].filter(l=>l).join(" ").toLowerCase().includes(e.toLowerCase())):L;return n.jsxs(n.Fragment,{children:[n.jsxs(se,{children:[n.jsxs(Ye,{children:[n.jsx(tt,{w:"100%",placeholder:"Search...",flex:1,value:e,onChange:i=>s(i.target.value)}),n.jsx(W,{variant:"light",onClick:()=>o(!0),children:n.jsx(Ht,{})})]}),n.jsx(st,{}),n.jsx(R,{cols:{sm:1,md:2},children:c.map((i,l)=>n.jsx(J,{music:i,active:d===i.id},i.title+l))})]}),n.jsxs(g,{opened:t,onClose:()=>o(!1),position:"bottom",children:[n.jsx(g.Header,{children:"Select the song that will start playing when you enter the site"}),n.jsx(W,{variant:"light",mb:"md",onClick:()=>{localStorage.setItem("musicId","null"),a(null)},children:"Clear"}),n.jsx(R,{cols:{lg:4,md:2,sm:1},children:L.map((i,l)=>(localStorage.getItem("musicId")||localStorage.setItem("musicId","null"),n.jsx(J,{music:i,active:r===i.id,onClick:()=>{localStorage.setItem("musicId",i.id.toString()),a(i.id)}},i.artist+i.title+l)))})]})]})}export{Ut as default};

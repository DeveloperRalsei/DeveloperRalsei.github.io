import{r as c,aj as A,ak as ae}from"./index-CHRFLreS.js";function xe(e){const t=e.toLowerCase().split("+").map(n=>n.trim()),r={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift"),plus:t.includes("[plus]")},a=["alt","ctrl","meta","shift","mod"],s=t.find(n=>!a.includes(n));return{...r,key:s==="[plus]"?"+":s}}function ke(e,t){const{alt:r,ctrl:a,meta:s,mod:n,shift:o,key:u}=e,{altKey:l,ctrlKey:d,metaKey:g,shiftKey:w,key:x}=t;if(r!==l)return!1;if(n){if(!d&&!g)return!1}else if(a!==d||s!==g)return!1;return o!==w?!1:!!(u&&(x.toLowerCase()===u.toLowerCase()||t.code.replace("Key","").toLowerCase()===u.toLowerCase()))}function Pe(e){return t=>ke(xe(e),t)}function He(e,t,r=!1){return e.target instanceof HTMLElement?(r||!e.target.isContentEditable)&&!t.includes(e.target.tagName):!0}function Ae(e,t=["INPUT","TEXTAREA","SELECT"],r=!1){c.useEffect(()=>{const a=s=>{e.forEach(([n,o,u={preventDefault:!0}])=>{Pe(n)(s)&&He(s,t,r)&&(u.preventDefault&&s.preventDefault(),o(s))})};return document.documentElement.addEventListener("keydown",a),()=>document.documentElement.removeEventListener("keydown",a)},[e])}const Le=({audioSrc:e,beatDropOn:t,beatDropPosition:r,maxDelay:a=1})=>{var re;const n=c.useRef(null),o=c.useRef(null),[u,l]=c.useState("--:--:--"),[d,g]=c.useState(new Date>t),[w,x]=c.useState(.5),[De,V]=c.useState(null);c.useEffect(()=>{n.current=new Audio(e),n.current.volume=.5,x(n.current.volume)},[e]);const k=c.useMemo(()=>t.getTime()-r*1e3-1e3,[t,r]);c.useEffect(()=>{if(!n.current||!o.current)return;const i=new(window.AudioContext||window.webkitAudioContext),f=i.createAnalyser();i.createMediaElementSource(n.current).connect(f),f.connect(i.destination),f.fftSize=256;const T=f.frequencyBinCount,H=new Uint8Array(T),h=o.current,j=h.getContext("2d");h.width=600,h.height=304;const p=()=>{requestAnimationFrame(p),f.getByteFrequencyData(H),j.clearRect(0,0,h.width,h.height);const _=h.width/T*.8;let E=0;for(let B=0;B<T;B++){const O=H[B]/255*h.height*1.1;j.fillStyle=`rgb(${O-50}, ${O+50}, ${O})`,j.fillRect(E,h.height-O,_,O),E+=_+1.1}};p()},[e]);const te=()=>{const i=new Date;let f=i.getTime()>t.getTime();g(f);let P=Math.round(Math.abs(i.getTime()-t.getTime())/1e3);const T=Math.floor(P/(60*60)),H=Math.floor(P/60)%60,h=P%60;if(l([T.toString().padStart(2,"0"),H.toString().padStart(2,"0"),h.toString().padStart(2,"0")].filter(p=>p).join(":")),!n.current)return;n.current.paused||V(null);const j=k+(n.current.duration+2)*1e3;if(n.current.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA&&k<i.getTime()&&j>i.getTime()){let p=(i.getTime()-k)/1e3;try{n.current.paused&&(n.current.play().catch(E=>{console.log("play() error",E),V(E)}),n.current.currentTime=p);let{currentTime:_}=n.current;Math.abs(_-p)>=a&&(n.current.currentTime=p)}catch(_){console.log("setter currentTime error",_),V(_)}}};c.useEffect(()=>{te();let i=setInterval(te,300);return()=>{var f;(f=n.current)==null||f.pause(),clearInterval(i)}},[]);const Me=n.current&&!((re=n.current)!=null&&re.paused);return{startPlaybackOn:k,isPlaying:Me,beatDidDrop:d,timer:u,volume:w,setVolume:i=>{n.current&&(n.current.volume=i),x(i)},err:De,canvasRef:o}};function Ie(e,t){return e===t||e!==e&&t!==t}var Ge=Ie,Ne=typeof A=="object"&&A&&A.Object===Object&&A,be=Ne,ze=be,Fe=typeof self=="object"&&self&&self.Object===Object&&self,Re=ze||Fe||Function("return this")(),v=Re,Ue=v,Ve=Ue.Symbol,N=Ve,ne=N,Ce=Object.prototype,Be=Ce.hasOwnProperty,Ke=Ce.toString,D=ne?ne.toStringTag:void 0;function qe(e){var t=Be.call(e,D),r=e[D];try{e[D]=void 0;var a=!0}catch{}var s=Ke.call(e);return a&&(t?e[D]=r:delete e[D]),s}var We=qe,Je=Object.prototype,Xe=Je.toString;function Ye(e){return Xe.call(e)}var Ze=Ye,se=N,Qe=We,et=Ze,tt="[object Null]",rt="[object Undefined]",oe=se?se.toStringTag:void 0;function at(e){return e==null?e===void 0?rt:tt:oe&&oe in Object(e)?Qe(e):et(e)}var Q=at;function nt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Se=nt,st=Q,ot=Se,it="[object AsyncFunction]",ct="[object Function]",ut="[object GeneratorFunction]",lt="[object Proxy]";function ft(e){if(!ot(e))return!1;var t=st(e);return t==ct||t==ut||t==it||t==lt}var ht=ft;function vt(e){return e!=null&&typeof e=="object"}var we=vt,ie=N,ce=ie?ie.prototype:void 0;ce&&ce.toString;var dt=v;dt.isFinite;function pt(){this.__data__=[],this.size=0}var _t=pt,gt=Ge;function yt(e,t){for(var r=e.length;r--;)if(gt(e[r][0],t))return r;return-1}var z=yt,$t=z,mt=Array.prototype,bt=mt.splice;function Ct(e){var t=this.__data__,r=$t(t,e);if(r<0)return!1;var a=t.length-1;return r==a?t.pop():bt.call(t,r,1),--this.size,!0}var St=Ct,wt=z;function Tt(e){var t=this.__data__,r=wt(t,e);return r<0?void 0:t[r][1]}var jt=Tt,Et=z;function Ot(e){return Et(this.__data__,e)>-1}var Dt=Ot,Mt=z;function xt(e,t){var r=this.__data__,a=Mt(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var kt=xt,Pt=_t,Ht=St,At=jt,Lt=Dt,It=kt;function $(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}$.prototype.clear=Pt;$.prototype.delete=Ht;$.prototype.get=At;$.prototype.has=Lt;$.prototype.set=It;var F=$,Gt=F;function Nt(){this.__data__=new Gt,this.size=0}var zt=Nt;function Ft(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Rt=Ft;function Ut(e){return this.__data__.get(e)}var Vt=Ut;function Bt(e){return this.__data__.has(e)}var Kt=Bt,qt=v,Wt=qt["__core-js_shared__"],Jt=Wt,K=Jt,ue=function(){var e=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Xt(e){return!!ue&&ue in e}var Yt=Xt,Zt=Function.prototype,Qt=Zt.toString;function er(e){if(e!=null){try{return Qt.call(e)}catch{}try{return e+""}catch{}}return""}var Te=er,tr=ht,rr=Yt,ar=Se,nr=Te,sr=/[\\^$.*+?()[\]{}|]/g,or=/^\[object .+?Constructor\]$/,ir=Function.prototype,cr=Object.prototype,ur=ir.toString,lr=cr.hasOwnProperty,fr=RegExp("^"+ur.call(lr).replace(sr,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function hr(e){if(!ar(e)||rr(e))return!1;var t=tr(e)?fr:or;return t.test(nr(e))}var vr=hr;function dr(e,t){return e==null?void 0:e[t]}var pr=dr,_r=vr,gr=pr;function yr(e,t){var r=gr(e,t);return _r(r)?r:void 0}var m=yr,$r=m,mr=v,br=$r(mr,"Map"),ee=br,Cr=m,Sr=Cr(Object,"create"),R=Sr,le=R;function wr(){this.__data__=le?le(null):{},this.size=0}var Tr=wr;function jr(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Er=jr,Or=R,Dr="__lodash_hash_undefined__",Mr=Object.prototype,xr=Mr.hasOwnProperty;function kr(e){var t=this.__data__;if(Or){var r=t[e];return r===Dr?void 0:r}return xr.call(t,e)?t[e]:void 0}var Pr=kr,Hr=R,Ar=Object.prototype,Lr=Ar.hasOwnProperty;function Ir(e){var t=this.__data__;return Hr?t[e]!==void 0:Lr.call(t,e)}var Gr=Ir,Nr=R,zr="__lodash_hash_undefined__";function Fr(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Nr&&t===void 0?zr:t,this}var Rr=Fr,Ur=Tr,Vr=Er,Br=Pr,Kr=Gr,qr=Rr;function b(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}b.prototype.clear=Ur;b.prototype.delete=Vr;b.prototype.get=Br;b.prototype.has=Kr;b.prototype.set=qr;var Wr=b,fe=Wr,Jr=F,Xr=ee;function Yr(){this.size=0,this.__data__={hash:new fe,map:new(Xr||Jr),string:new fe}}var Zr=Yr;function Qr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ea=Qr,ta=ea;function ra(e,t){var r=e.__data__;return ta(t)?r[typeof t=="string"?"string":"hash"]:r.map}var U=ra,aa=U;function na(e){var t=aa(this,e).delete(e);return this.size-=t?1:0,t}var sa=na,oa=U;function ia(e){return oa(this,e).get(e)}var ca=ia,ua=U;function la(e){return ua(this,e).has(e)}var fa=la,ha=U;function va(e,t){var r=ha(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var da=va,pa=Zr,_a=sa,ga=ca,ya=fa,$a=da;function C(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}C.prototype.clear=pa;C.prototype.delete=_a;C.prototype.get=ga;C.prototype.has=ya;C.prototype.set=$a;var je=C,ma=F,ba=ee,Ca=je,Sa=200;function wa(e,t){var r=this.__data__;if(r instanceof ma){var a=r.__data__;if(!ba||a.length<Sa-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ca(a)}return r.set(e,t),this.size=r.size,this}var Ta=wa,ja=F,Ea=zt,Oa=Rt,Da=Vt,Ma=Kt,xa=Ta;function M(e){var t=this.__data__=new ja(e);this.size=t.size}M.prototype.clear=Ea;M.prototype.delete=Oa;M.prototype.get=Da;M.prototype.has=Ma;M.prototype.set=xa;var ka="__lodash_hash_undefined__";function Pa(e){return this.__data__.set(e,ka),this}var Ha=Pa;function Aa(e){return this.__data__.has(e)}var La=Aa,Ia=je,Ga=Ha,Na=La;function q(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Ia;++t<r;)this.add(e[t])}q.prototype.add=q.prototype.push=Ga;q.prototype.has=Na;var za=v;za.Uint8Array;var he=N,ve=he?he.prototype:void 0;ve&&ve.valueOf;var Fa=Q,Ra=we,Ua="[object Arguments]";function Va(e){return Ra(e)&&Fa(e)==Ua}var Ba=Va,de=Ba,Ka=we,Ee=Object.prototype,qa=Ee.hasOwnProperty,Wa=Ee.propertyIsEnumerable;de(function(){return arguments}());var L={exports:{}};function Ja(){return!1}var Xa=Ja;L.exports;(function(e,t){var r=v,a=Xa,s=t&&!t.nodeType&&t,n=s&&!0&&e&&!e.nodeType&&e,o=n&&n.exports===s,u=o?r.Buffer:void 0,l=u?u.isBuffer:void 0,d=l||a;e.exports=d})(L,L.exports);L.exports;var I={exports:{}};I.exports;(function(e,t){var r=be,a=t&&!t.nodeType&&t,s=a&&!0&&e&&!e.nodeType&&e,n=s&&s.exports===a,o=n&&r.process,u=function(){try{var l=s&&s.require&&s.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();e.exports=u})(I,I.exports);var Ya=I.exports,pe=Ya;pe&&pe.isTypedArray;var Za=m,Qa=v,en=Za(Qa,"DataView"),tn=en,rn=m,an=v,nn=rn(an,"Promise"),sn=nn,on=m,cn=v,un=on(cn,"Set"),ln=un,fn=m,hn=v,vn=fn(hn,"WeakMap"),dn=vn,W=tn,J=ee,X=sn,Y=ln,Z=dn,Oe=Q,S=Te,_e="[object Map]",pn="[object Object]",ge="[object Promise]",ye="[object Set]",$e="[object WeakMap]",me="[object DataView]",_n=S(W),gn=S(J),yn=S(X),$n=S(Y),mn=S(Z),y=Oe;(W&&y(new W(new ArrayBuffer(1)))!=me||J&&y(new J)!=_e||X&&y(X.resolve())!=ge||Y&&y(new Y)!=ye||Z&&y(new Z)!=$e)&&(y=function(e){var t=Oe(e),r=t==pn?e.constructor:void 0,a=r?S(r):"";if(a)switch(a){case _n:return me;case gn:return _e;case yn:return ge;case $n:return ye;case mn:return $e}return t});var G=function(){return G=Object.assign||function(t){for(var r,a=1,s=arguments.length;a<s;a++){r=arguments[a];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G.apply(this,arguments)},bn=[0,0,1],Cn=[[1,1,0],[1,0,1],[0,1,1],[1,0,0],[0,1,0],bn];Cn.reduce(function(e,t,r){var a;return G(G({},e),(a={},a["@keyframes rotation-".concat(r)]={"50%":{transform:"rotate3d(".concat(t.map(function(s){return s/2}).join(),", 180deg)")},"100%":{transform:"rotate3d(".concat(t.join(),", 360deg)")}},a))},{});function wn(){const{timer:e,volume:t,setVolume:r,err:a,beatDidDrop:s,isPlaying:n,canvasRef:o}=Le({audioSrc:"/musics/strobe.mp3",beatDropPosition:407.4,beatDropOn:new Date("2025-04-11")});c.useState(!1);const[u,l]=c.useState(!0),{reward:d}=ae("Confetti1","balloons"),{reward:g}=ae("Confetti2","balloons");return c.useEffect(()=>{s&&(d(),g())},[s]),Ae([["T",()=>l(w=>!w)]]),`HEHEHE 
 Check back later :)`}export{wn as default};

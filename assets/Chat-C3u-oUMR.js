import{r as n,j as o,S as d}from"./index-BJDav1_Y.js";import{B as r}from"./Button-CBZwh7S6.js";function g(){const e=n.useRef(null),[m,c]=n.useState(null),[a,s]=n.useState(!1);n.useEffect(()=>{c(localStorage.getItem("username"))},[]);const l=()=>{e.current=new WebSocket("ws://localhost:8081"),e.current.onopen=()=>{console.log("Connected"),s(!0)},e.current.onmessage=t=>{console.log("Message from server:",t.data)},e.current.onclose=()=>{console.log("Disconnected"),s(!1)},e.current.onerror=t=>{console.error("WebSocket Error:",t)}},u=[{meow:"mrow"},{nya:"pet me uwu"}],i=()=>{e.current&&e.current.readyState===WebSocket.OPEN&&e.current.send(JSON.stringify(u))};return o.jsxs(d,{children:[o.jsx(r,{onClick:l,children:"Connect"}),o.jsx(r,{onClick:()=>e.current.close(),color:"red",children:"Disconnect"}),a&&o.jsx(r,{onClick:i,children:"Send Message"})]})}export{g as default};

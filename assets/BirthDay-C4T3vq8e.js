import{r as i,al as P,am as rt,an as Et}from"./index-CywmRGXx.js";const Pt=({audioSrc:t,beatDropOn:e,beatDropPosition:a,maxDelay:r=1})=>{var at;const n=i.useRef(null),c=i.useRef(null),[_,v]=i.useState("--:--:--"),[d,L]=i.useState(new Date>e),[R,tt]=i.useState(.5),[xt,U]=i.useState(null);i.useEffect(()=>{n.current=new Audio(t),n.current.volume=.5,tt(n.current.volume)},[t]);const x=i.useMemo(()=>e.getTime()-a*1e3-1e3,[e,a]);i.useEffect(()=>{if(!n.current||!c.current)return;const s=new(window.AudioContext||window.webkitAudioContext),u=s.createAnalyser();s.createMediaElementSource(n.current).connect(u),u.connect(s.destination),u.fftSize=256;const S=u.frequencyBinCount,E=new Uint8Array(S),h=c.current,T=h.getContext("2d");h.width=600,h.height=304;const f=()=>{requestAnimationFrame(f),u.getByteFrequencyData(E),T.clearRect(0,0,h.width,h.height);const p=h.width/S*.8;let w=0;for(let V=0;V<S;V++){const j=E[V]/255*h.height*1.1;T.fillStyle=`rgb(${j-50}, ${j+50}, ${j})`,T.fillRect(w,h.height-j,p,j),w+=p+1.1}};f()},[t]);const et=()=>{const s=new Date;let u=s.getTime()>e.getTime();L(u);let M=Math.round(Math.abs(s.getTime()-e.getTime())/1e3);const S=Math.floor(M/(60*60)),E=Math.floor(M/60)%60,h=M%60;if(v([S.toString().padStart(2,"0"),E.toString().padStart(2,"0"),h.toString().padStart(2,"0")].filter(f=>f).join(":")),!n.current)return;n.current.paused||U(null);const T=x+(n.current.duration+2)*1e3;if(n.current.readyState>=HTMLMediaElement.HAVE_CURRENT_DATA&&x<s.getTime()&&T>s.getTime()){let f=(s.getTime()-x)/1e3;try{n.current.paused&&(n.current.play().catch(w=>{console.log("play() error",w),U(w)}),n.current.currentTime=f);let{currentTime:p}=n.current;Math.abs(p-f)>=r&&(n.current.currentTime=f)}catch(p){console.log("setter currentTime error",p),U(p)}}};i.useEffect(()=>{et();let s=setInterval(et,300);return()=>{var u;(u=n.current)==null||u.pause(),clearInterval(s)}},[]);const Mt=n.current&&!((at=n.current)!=null&&at.paused);return{startPlaybackOn:x,isPlaying:Mt,beatDidDrop:d,timer:_,volume:R,setVolume:s=>{n.current&&(n.current.volume=s),tt(s)},err:xt,canvasRef:c}};function At(t,e){return t===e||t!==t&&e!==e}var Ht=At,kt=typeof P=="object"&&P&&P.Object===Object&&P,mt=kt,It=mt,Gt=typeof self=="object"&&self&&self.Object===Object&&self,zt=It||Gt||Function("return this")(),l=zt,Ft=l,Nt=Ft.Symbol,I=Nt,nt=I,Ct=Object.prototype,Lt=Ct.hasOwnProperty,Rt=Ct.toString,O=nt?nt.toStringTag:void 0;function Ut(t){var e=Lt.call(t,O),a=t[O];try{t[O]=void 0;var r=!0}catch{}var o=Rt.call(t);return r&&(e?t[O]=a:delete t[O]),o}var Vt=Ut,Bt=Object.prototype,qt=Bt.toString;function Wt(t){return qt.call(t)}var Jt=Wt,ot=I,Kt=Vt,Yt=Jt,Zt="[object Null]",Qt="[object Undefined]",st=ot?ot.toStringTag:void 0;function Xt(t){return t==null?t===void 0?Qt:Zt:st&&st in Object(t)?Kt(t):Yt(t)}var Q=Xt;function te(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var St=te,ee=Q,ae=St,re="[object AsyncFunction]",ne="[object Function]",oe="[object GeneratorFunction]",se="[object Proxy]";function ie(t){if(!ae(t))return!1;var e=ee(t);return e==ne||e==oe||e==re||e==se}var ce=ie;function ue(t){return t!=null&&typeof t=="object"}var Tt=ue,it=I,ct=it?it.prototype:void 0;ct&&ct.toString;var he=l;he.isFinite;function le(){this.__data__=[],this.size=0}var ve=le,fe=Ht;function _e(t,e){for(var a=t.length;a--;)if(fe(t[a][0],e))return a;return-1}var G=_e,pe=G,de=Array.prototype,ge=de.splice;function $e(t){var e=this.__data__,a=pe(e,t);if(a<0)return!1;var r=e.length-1;return a==r?e.pop():ge.call(e,a,1),--this.size,!0}var be=$e,ye=G;function me(t){var e=this.__data__,a=ye(e,t);return a<0?void 0:e[a][1]}var Ce=me,Se=G;function Te(t){return Se(this.__data__,t)>-1}var we=Te,je=G;function Oe(t,e){var a=this.__data__,r=je(a,t);return r<0?(++this.size,a.push([t,e])):a[r][1]=e,this}var De=Oe,xe=ve,Me=be,Ee=Ce,Pe=we,Ae=De;function $(t){var e=-1,a=t==null?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}$.prototype.clear=xe;$.prototype.delete=Me;$.prototype.get=Ee;$.prototype.has=Pe;$.prototype.set=Ae;var z=$,He=z;function ke(){this.__data__=new He,this.size=0}var Ie=ke;function Ge(t){var e=this.__data__,a=e.delete(t);return this.size=e.size,a}var ze=Ge;function Fe(t){return this.__data__.get(t)}var Ne=Fe;function Le(t){return this.__data__.has(t)}var Re=Le,Ue=l,Ve=Ue["__core-js_shared__"],Be=Ve,B=Be,ut=function(){var t=/[^.]+$/.exec(B&&B.keys&&B.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function qe(t){return!!ut&&ut in t}var We=qe,Je=Function.prototype,Ke=Je.toString;function Ye(t){if(t!=null){try{return Ke.call(t)}catch{}try{return t+""}catch{}}return""}var wt=Ye,Ze=ce,Qe=We,Xe=St,ta=wt,ea=/[\\^$.*+?()[\]{}|]/g,aa=/^\[object .+?Constructor\]$/,ra=Function.prototype,na=Object.prototype,oa=ra.toString,sa=na.hasOwnProperty,ia=RegExp("^"+oa.call(sa).replace(ea,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ca(t){if(!Xe(t)||Qe(t))return!1;var e=Ze(t)?ia:aa;return e.test(ta(t))}var ua=ca;function ha(t,e){return t==null?void 0:t[e]}var la=ha,va=ua,fa=la;function _a(t,e){var a=fa(t,e);return va(a)?a:void 0}var b=_a,pa=b,da=l,ga=pa(da,"Map"),X=ga,$a=b,ba=$a(Object,"create"),F=ba,ht=F;function ya(){this.__data__=ht?ht(null):{},this.size=0}var ma=ya;function Ca(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Sa=Ca,Ta=F,wa="__lodash_hash_undefined__",ja=Object.prototype,Oa=ja.hasOwnProperty;function Da(t){var e=this.__data__;if(Ta){var a=e[t];return a===wa?void 0:a}return Oa.call(e,t)?e[t]:void 0}var xa=Da,Ma=F,Ea=Object.prototype,Pa=Ea.hasOwnProperty;function Aa(t){var e=this.__data__;return Ma?e[t]!==void 0:Pa.call(e,t)}var Ha=Aa,ka=F,Ia="__lodash_hash_undefined__";function Ga(t,e){var a=this.__data__;return this.size+=this.has(t)?0:1,a[t]=ka&&e===void 0?Ia:e,this}var za=Ga,Fa=ma,Na=Sa,La=xa,Ra=Ha,Ua=za;function y(t){var e=-1,a=t==null?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}y.prototype.clear=Fa;y.prototype.delete=Na;y.prototype.get=La;y.prototype.has=Ra;y.prototype.set=Ua;var Va=y,lt=Va,Ba=z,qa=X;function Wa(){this.size=0,this.__data__={hash:new lt,map:new(qa||Ba),string:new lt}}var Ja=Wa;function Ka(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Ya=Ka,Za=Ya;function Qa(t,e){var a=t.__data__;return Za(e)?a[typeof e=="string"?"string":"hash"]:a.map}var N=Qa,Xa=N;function tr(t){var e=Xa(this,t).delete(t);return this.size-=e?1:0,e}var er=tr,ar=N;function rr(t){return ar(this,t).get(t)}var nr=rr,or=N;function sr(t){return or(this,t).has(t)}var ir=sr,cr=N;function ur(t,e){var a=cr(this,t),r=a.size;return a.set(t,e),this.size+=a.size==r?0:1,this}var hr=ur,lr=Ja,vr=er,fr=nr,_r=ir,pr=hr;function m(t){var e=-1,a=t==null?0:t.length;for(this.clear();++e<a;){var r=t[e];this.set(r[0],r[1])}}m.prototype.clear=lr;m.prototype.delete=vr;m.prototype.get=fr;m.prototype.has=_r;m.prototype.set=pr;var jt=m,dr=z,gr=X,$r=jt,br=200;function yr(t,e){var a=this.__data__;if(a instanceof dr){var r=a.__data__;if(!gr||r.length<br-1)return r.push([t,e]),this.size=++a.size,this;a=this.__data__=new $r(r)}return a.set(t,e),this.size=a.size,this}var mr=yr,Cr=z,Sr=Ie,Tr=ze,wr=Ne,jr=Re,Or=mr;function D(t){var e=this.__data__=new Cr(t);this.size=e.size}D.prototype.clear=Sr;D.prototype.delete=Tr;D.prototype.get=wr;D.prototype.has=jr;D.prototype.set=Or;var Dr="__lodash_hash_undefined__";function xr(t){return this.__data__.set(t,Dr),this}var Mr=xr;function Er(t){return this.__data__.has(t)}var Pr=Er,Ar=jt,Hr=Mr,kr=Pr;function q(t){var e=-1,a=t==null?0:t.length;for(this.__data__=new Ar;++e<a;)this.add(t[e])}q.prototype.add=q.prototype.push=Hr;q.prototype.has=kr;var Ir=l;Ir.Uint8Array;var vt=I,ft=vt?vt.prototype:void 0;ft&&ft.valueOf;var Gr=Q,zr=Tt,Fr="[object Arguments]";function Nr(t){return zr(t)&&Gr(t)==Fr}var Lr=Nr,_t=Lr,Rr=Tt,Ot=Object.prototype,Ur=Ot.hasOwnProperty,Vr=Ot.propertyIsEnumerable;_t(function(){return arguments}());var A={exports:{}};function Br(){return!1}var qr=Br;A.exports;(function(t,e){var a=l,r=qr,o=e&&!e.nodeType&&e,n=o&&!0&&t&&!t.nodeType&&t,c=n&&n.exports===o,_=c?a.Buffer:void 0,v=_?_.isBuffer:void 0,d=v||r;t.exports=d})(A,A.exports);A.exports;var H={exports:{}};H.exports;(function(t,e){var a=mt,r=e&&!e.nodeType&&e,o=r&&!0&&t&&!t.nodeType&&t,n=o&&o.exports===r,c=n&&a.process,_=function(){try{var v=o&&o.require&&o.require("util").types;return v||c&&c.binding&&c.binding("util")}catch{}}();t.exports=_})(H,H.exports);var Wr=H.exports,pt=Wr;pt&&pt.isTypedArray;var Jr=b,Kr=l,Yr=Jr(Kr,"DataView"),Zr=Yr,Qr=b,Xr=l,tn=Qr(Xr,"Promise"),en=tn,an=b,rn=l,nn=an(rn,"Set"),on=nn,sn=b,cn=l,un=sn(cn,"WeakMap"),hn=un,W=Zr,J=X,K=en,Y=on,Z=hn,Dt=Q,C=wt,dt="[object Map]",ln="[object Object]",gt="[object Promise]",$t="[object Set]",bt="[object WeakMap]",yt="[object DataView]",vn=C(W),fn=C(J),_n=C(K),pn=C(Y),dn=C(Z),g=Dt;(W&&g(new W(new ArrayBuffer(1)))!=yt||J&&g(new J)!=dt||K&&g(K.resolve())!=gt||Y&&g(new Y)!=$t||Z&&g(new Z)!=bt)&&(g=function(t){var e=Dt(t),a=e==ln?t.constructor:void 0,r=a?C(a):"";if(r)switch(r){case vn:return yt;case fn:return dt;case _n:return gt;case pn:return $t;case dn:return bt}return e});var k=function(){return k=Object.assign||function(e){for(var a,r=1,o=arguments.length;r<o;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},k.apply(this,arguments)},gn=[0,0,1],$n=[[1,1,0],[1,0,1],[0,1,1],[1,0,0],[0,1,0],gn];$n.reduce(function(t,e,a){var r;return k(k({},t),(r={},r["@keyframes rotation-".concat(a)]={"50%":{transform:"rotate3d(".concat(e.map(function(o){return o/2}).join(),", 180deg)")},"100%":{transform:"rotate3d(".concat(e.join(),", 360deg)")}},r))},{});function yn(){const{timer:t,volume:e,setVolume:a,err:r,beatDidDrop:o,isPlaying:n,canvasRef:c}=Pt({audioSrc:"/musics/strobe.mp3",beatDropPosition:407.4,beatDropOn:new Date("2025-04-11")});i.useState(!1);const[_,v]=i.useState(!0),{reward:d}=rt("Confetti1","balloons"),{reward:L}=rt("Confetti2","balloons");return i.useEffect(()=>{o&&(d(),L())},[o]),Et([["T",()=>v(R=>!R)]]),`HEHEHE 
 Check back later :)`}export{yn as default};
